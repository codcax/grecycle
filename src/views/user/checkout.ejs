<%- include('../includes/head.ejs') %>
</head>
<%- include('../includes/user/navigation.ejs') %>

<div class="flex flex-grow">
    <div class="flex flex-grow font-montserrat">
        <div class="grid w-full px-2 py-12 mx-auto xl:px-24">
            <% if(cartItems.length <= 0) { %>
                <div class="flex flex-col items-center m-4 p-4 rounded-lg lg:col-span-2">
                    <h1 class="text-primary-green dark:text-secondary-green p-2 mb-4 md:text-lg">Order Summary</h1>
                    <div class="flex justify-center items-center p-12">
                        <h1 class="text-gray-700 text-center dark:text-dark-secondary-green">Your cart is empty.</h1>
                    </div>
                </div>
            <% } else { %>
                <div class="flex flex-col m-4 p-4 gap-4 rounded-lg lg:grid lg:grid-cols-3">
                    <div class="flex flex-col p-4 shadow-md rounded-lg dark:shadow-none dark:bg-tertiary-green">
                        <h1 class="text-primary-green text-center dark:text-secondary-green p-2 mb-4 md:text-lg">Order
                            Summary</h1>
                        <% cartItems.forEach((cartItem, index) => { %>
                            <div class="flex flex-col justify-center items-center">
                                <div class="flex flex-wrap px-2 pt-2 p-4 justify-center items-center">
                                    <div class="flex justify-center items-center p-4">
                                        <img src="/<%= cartItem.resourceId.imagePath %>" alt="" class="h-20 w-auto">
                                    </div>
                                    <div class="flex flex-col justify-center p-4 text-sm">
                                        <h1 class="p-1.5">Resource: <%= cartItem.resourceId.name %></h1>
                                        <h1 class="p-1.5">Quantity: <%= cartItem.quantity %> kg</h1>
                                        <h1 class="p-1.5">
                                            Amount: <%= (cartItem.quantity * cartItem.resourceId.price).toFixed(2) %>
                                            RM/kg</h1>
                                    </div>
                                </div>
                            </div>
                        <% }) %>
                        <div class="flex flex-col p-4 mt-4 space-y-1 text-sm md:text-base md:px-12">
                            <div class="flex flex-row justify-between">
                                <h1 class="text-primary-green pb-2">Resources</h1>
                                <h1 class="text-primary-green">RM <%= total.toFixed(2) %></h1>
                            </div>
                            <div class="flex flex-row justify-between text-xs font-semibold">
                                <h1 class="text-primary-green">Shipping</h1>
                                <h1 class="text-primary-green">RM 0.00</h1>
                            </div>
                            <div class="flex flex-row justify-between text-xs font-semibold">
                                <h1 class="text-primary-green pb-2">Tax</h1>
                                <h1 class="text-primary-green">RM 0.00</h1>
                            </div>
                            <div class="flex flex-row justify-between">
                                <h1 class="text-primary-green pb-2">Total</h1>
                                <h1 class="text-primary-green">RM <%= total.toFixed(2) %></h1>
                            </div>
                        </div>
                    </div>
                    <div class="flex flex-col p-4 shadow-md rounded-lg lg:col-span-2 dark:shadow-none dark:bg-tertiary-green">
                        <h1 class="text-primary-green text-center dark:text-secondary-green p-2 mb-4 md:text-lg">Order
                            Details</h1>
                    </div>
                </div>
            <% } %>
        </div>
    </div>
</div>
</div>

<%- include('../includes/user/footer.ejs') %>